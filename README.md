# 98팀 중 10위 우수상 수상 

# Fire-Safety-Prediction-AI-Contest
AI contest hosted by Gangwon Fire Department


# 데이터 EDA(1)
## 데이터셋 기본 정보 파악
- 유동인구는 성별/연령별 유동정도에 따른 float 수치
  - 남성/여성 및 0세부터 5세 단위로 70세까지 존재
- 31개 사고유형
  - '고온체사고발생건수', '관통상발생건수', '기계사고발생건수',
       '기타발생건수', '둔상발생건수', '사고부상발생건수', '질병외발생건수', '탈것사고발생건수', '낙상발생건수',
       '농기계사고발생건수', '단순주취발생건수', '동물곤충사고발생건수', '동승자사고발생건수', '미상발생건수',
       '보행자사고발생건수', '열상발생건수', '오토바이사고발생건수', '온열손상발생건수', '운전자사고발생건수', '익수발생건수',
       '임산부사고발생건수', '자전거사고발생건수', '전기사고발생건수', '중독발생건수', '질식발생건수', '추락발생건수',
       '화염발생건수', '화학물질사고발생건수', '날씨사고발생건수', '성폭행발생건수', '화상발생건수'


## 가설 설정 및 검증
- 가설-1
  - 유동인구가 없는 격자는 응급출동이 일어나지 않는다.
- 가설-2
  -  응급출동이 발생했으면 1, 발생하지 않았으면 0으로 파생변수를 만들 수 있다.


# 데이터 전처리(1)
- 학습에 불필요한 법정동 컬럼 제거
- 공공데이터를 활용한 독립변수 추가 및 격자별/일자별/행정동별 변수 매핑
  - 활용한 공공데이터 목록
    - 소상공인 업소의 업종별 위치 데이터
    - 어린이/노인/장애인 보호구역 위치 데이터
    - 화재/구조 종류별 발생 위치 데이터
    - 의료시설 종류별 위치 데이터
    - 행정동별 인구수 데이터
    - 일자별 풍속/기온 등 날씨 데이터
- 공공데이터 중 위치 정보가 포함된 데이터는 훈련데이터의 격자ID 별 위치와 Merge하는 전처리 수행


# 데이터 EDA(2)
- 낙상사고 중심 탐색
  - 낙상사고는 2021년 원주시 기준 31개 사고유형 중 가장 많은 950회 발생
    - 원주시 500mx500m 격자에 응급출동 건 수 시각화 결과 주로 **도심지**에서 출동이 많이 발생
  - 새로운 파생변수 '사고다발격자'컬럼 생성
    - 4분위수로 나누어 각 격자ID에 분위수 별로 가중치 부여
- 낙상사고 다음으로 교통관련 사고 출동이 다수 발생
  - 교통 관련 사고 특성상 큰 도로와 고속도로 분기점 또는 IC에서 사고 발생 및 출동


# 데이터 전처리(2)
- 독립변수끼리 상관계수 table 시각화 진행
  - 상관계수가 0.7이상은 상관관계가 높은 것으로 간주
  - 상관계수가 높은 행정동별 인구, 노인장애인보호구역, 날씨, 소상공인업체수 컬럼 
- 학습에 활용할 수 있도록 전처리 진행
  - MinMaxScaler를 활용한 분포 정규화
  - OneHotEncoding을 활용한 범주형 변수 변환
  - 학습: 0.8 / 테스트: 0.2 데이터 분리

# 머신러닝 모델 학습
- Logistic Regression / KNN / Decision Tree / Random Forest 분류 알고리즘 활용

## 학습 1
- 알고리즘의 기본 파라미터로 진행
- 레이블의 불균형으로 인해 정확도는 높지만, 성능지표 중 정밀도와 재현율이 매우 낮은 것을 확인
  - RandomForest 분류기에서 가장 높은 성능 확인
  - 정확도: 0.988, 정밀도: 0.375, 재현율: 0.323, F1: 0.347, AUC: 0.659

## 학습 2
- 레이블의 불균형을 해소하고자 랜덤언더샘플링 진행
  - 적은 비율의 Class1 만큼 Class0를 랜덤하게 추출
  - 기본 파라미터로 진행
- RandomForest 분류기에서 가장 높은 성능 확인
  - 정확도: 0.983, 정밀도: 0.374, 재현율: 1.0, F1: 0.544, AUC: 0.995

## 학습 3
- 오버샘플링 진행
  - 언더샘플링에서 Class를 많이 줄이기 때문에 원활할 학습을 위해 진행
  - SMOTE 방법 사용 및 features의 비슷한 형태로 증식시키는 방법
- LogisticRegression 분류기에서 가장 좋은 성능 확인
  - 정확도: 0.983, 정밀도: 0.369, 재현율: 1.0, F1: 0.539, AUC: 0.993
  
## 학습 4
- 데이터 불균형을 해소하기 위해 오버샘플링 채택 및 알고리즘별 파라미터 최적화 진행
- RandomFoest가 F1스코어, 재현율, AUC 스코어에서 가장 좋은 성능을 보임
  - 정확도: 0.983, 정밀도: 0.369, 재현율: 1.0, F1: 0.539, AUC: 0.993

# 예측
- 학습 4로 생성한 모델로 2021년 매월 마지막 날의 사고 유형별 발생 격자ID의 위치를 예측

